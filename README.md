# kanata-tray

A simple wrapper for [kanata](https://github.com/jtroo/kanata) to control it from tray icon. 
Should work on Windows and Linux.

## Features

- Tray icon with buttons for starting/stopping kanata
- Easy switching between multiple kanata configurations and versions.
- Works out-of-the box with no configuration, but can be configured with toml file.

## Configuration

Note, that you don't need to provide config file at all. 
Default config will be autogenerated for you on the first run. 
You can access it from from: Click Tray Icon > Options

An example customized configuration file:

```toml
# default: []
configurations = [
    "~/.config/kanata/kanata.kbd",
    "~/.config/kanata/test.kbd",
]

# default: []
executables = [
    "~/.config/kanata/kanata", 
    "~/.config/kanata/kanata-debug",
]

[general]
include_executables_from_system_path = false # default: true
include_configs_from_default_locations = false # default: true
launch_on_start = true # default: true
```

The above config should be pretty self-explanatory.

There are a few things worth noting though:
- If `configurations` is non-empty, the first item from it will be launched.
- Otherwise it falls back to a first kanata configs found by `include_configs_from_default_locations` option, if enabled.
- Otherwise, if no configs available, it won't auto-launch anything.
- Similar thing applies to kanata executables (see options `executables` and `include_executables_from_system_path`)

## Installation

Make sure to install required packages first:

### Arch:
```bash
pacman -S libayatana-appindicator
```

also if you want to build from source:
```bash
pacman -S base-devel gtk3 go
``` 

### Ubuntu:
```bash
sudo apt-get install libayatana-appindicator3-dev 
```

also if you want to build from source:
```bash
sudo apt-get install gcc libgtk-3-dev golang
``` 

## Building 

See [justfile](./justfile)
 